{% extends "layouts/base.html" %} {% block title %}Users - User Management{%
endblock %} {% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="h3 mb-0"><i class="fa-solid fa-users"></i> Users</h1>
  <a href="{{ url_for('users.create') }}" class="btn btn-primary"
    ><i class="fa-solid fa-user-plus"></i> New User</a
  >
</div>

{% if users %}
<div class="table-responsive">
  <table
    class="table table-striped table-bordered table-hover align-middle shadow-sm"
  >
    <thead class="table-light">
      <tr>
        <th style="width: 50px">#</th>
        <th>Username</th>
        <th>Full Name</th>
        <th>Email</th>
        <th>Status</th>
        <th>Created</th>
        <th class="text-end" style="width: 160px">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
      <tr>
        <td>{{ loop.index }}</td>

        <td>
          <a
            href="{{ url_for('users.detail', user_id=user.id) }}"
            class="text-decoration-none fw-semibold"
            >{{ user.username }}</a
          >
        </td>

        <td>{{ user.fullname }}</td>
        <td>{{ user.email }}</td>

        <td>
          {% if user.is_active %}
          <span class="badge bg-success">Active</span>
          {% else %}
          <span class="badge bg-secondary">Inactive</span>
          {% endif %}
        </td>

        <td>{{ user.created_at.strftime('%Y-%m-%d') }}</td>

        <td class="text-end">
          <!--Edit-->
          <a
            href="{{ url_for('users.edit', user_id=user.id) }}"
            class="btn btn-sm btn-outline-secondary rounded-circle"
            title="Edit"
            ><i class="fa-solid fa-pencil"></i
          ></a>
          <!--Delete (go to custom delete confirmation page)-->
          <a
            href="{{ url_for('users.delete_confirm', user_id=user.id) }}"
            class="btn btn-sm btn-outline-danger rounded-circle"
            title="Delete"
            ><i class="fa-solid fa-trash"></i
          ></a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% else %}
<div class="alert alert-info">
  No user found.
  <a href="{{ url_for('users.create') }}">Create the first user</a>
</div>
{% endif %} {% endblock %}
